<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Softis ‚Äî SPA</title>
  <meta name="description" content="Softis ‚Äî –ø–æ–º—ñ—á–Ω–∏–∫ —É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ YouTube-–∫–æ–Ω—Ç–µ–Ω—Ç—É. –û–∑–≤—É—á–∫–∞, –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å, —Å—É–±—Ç–∏—Ç—Ä–∏, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è." />
  <link rel="icon" href="images/logo_32.png" sizes="32x32" type="image/png">
  <link rel="shortcut icon" href="images/logo_32.png" type="image/png">
  <style>
    :root{--bg:#0a0a10;--surface:#101017;--card:#12121b;--text:#e7e8ee;--muted:#b9bac6;--border:#232332;--primary:#dc2626;--accent:#ef4444;}
    html,body{height:100%}body{margin:0;background:radial-gradient(1200px 800px at 70% -10%, rgba(239,68,68,.08), transparent 60%),var(--bg);color:var(--text);font:400 16px/1.55 Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}
    .container{width:min(1140px,100% - 32px);margin:0 auto}
    .topbar{position:sticky;top:0;z-index:50;backdrop-filter:saturate(120%) blur(8px);background:color-mix(in srgb,var(--bg) 70%, black 30% / 70%);border-bottom:1px solid var(--border)}
    .topbar-inner{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:10px;padding:10px 0}
    .brand{display:inline-flex;align-items:center;gap:10px;font-weight:800}
    .brand-icon{width:32px;height:32px;display:grid;place-items:center;background:#0b0d14;border-radius:10px;border:1px solid color-mix(in srgb,var(--primary) 60%, var(--border));box-shadow:0 0 18px rgba(220,38,38,.35),0 0 0 1px color-mix(in srgb,var(--primary) 45%, transparent) inset;overflow:visible}
    .brand-img{width:24px;height:24px;display:block;object-fit:contain;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges}
    .mainnav{display:flex;justify-content:center;gap:8px;flex-wrap:wrap}
    
    .nav-pill,.pill{
        background:#14141c;color:var(--text);border-radius:999px;padding:8px 16px;cursor:pointer;
        border:1px solid color-mix(in srgb,var(--primary) 40%, var(--border));
        box-shadow:0 0 0 1px color-mix(in srgb,var(--primary) 25%, transparent) inset,
                   0 0 16px rgba(220,38,38,.15);
        transition:transform .15s ease, box-shadow .2s ease, background .2s ease;
        user-select:none;text-decoration:none;display:inline-flex;align-items:center;gap:.5rem
    }
    .nav-pill:hover, .pill:hover {
        transform: translateY(-1px);
        box-shadow: 0 0 0 1px color-mix(in srgb,var(--primary) 70%, transparent) inset,
                    0 0 38px rgba(220,38,38,.65),
                    0 6px 12px rgba(0,0,0,.4);
    }
    .nav-pill[aria-current="page"], .pill[aria-pressed="true"] {
        transform: translateY(-1px);
        box-shadow: 0 0 0 1px color-mix(in srgb,var(--primary) 75%, transparent) inset,
                    0 0 42px rgba(220,38,38,.75),
                    0 8px 18px rgba(0,0,0,.5);
        background: color-mix(in srgb, var(--primary) 10%, var(--card));
    }

    .hero{position:relative;min-height:72svh;display:grid;align-items:center;overflow:clip;isolation:isolate}
    .reading-pad{background:linear-gradient(180deg, rgba(0,0,0,.58), rgba(0,0,0,.46));border:1px solid color-mix(in srgb,var(--primary) 22%, var(--border));border-radius:20px;padding:24px 24px 30px;box-shadow:0 18px 48px rgba(0,0,0,.55),0 0 28px color-mix(in srgb,var(--primary) 14%, transparent);max-width:980px}
    h1{font-size:clamp(30px,5vw,52px);line-height:1.15;margin:8px 0 12px}.lead{color:#c9cad6;max-width:62ch}
    .actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:20px}
    .btn-primary,.btn-ghost{background:linear-gradient(180deg,#1c0f12,#2a1216);color:#fff;border-radius:12px;padding:12px 18px;font-weight:800;border:1px solid color-mix(in srgb,var(--primary) 58%, var(--border));box-shadow:0 0 0 1px color-mix(in srgb,var(--primary) 48%, transparent) inset,0 0 36px color-mix(in srgb,var(--primary) 52%, transparent),0 12px 34px rgba(0,0,0,.6);transition:transform .12s ease, box-shadow .2s ease, background .15s ease;text-decoration:none;display:inline-block}
    .btn-primary:hover,.btn-ghost:hover{transform:translateY(-1px);box-shadow:0 0 0 1px color-mix(in srgb,var(--primary) 68%, transparent) inset,0 0 48px color-mix(in srgb,var(--primary) 65%, transparent),0 18px 42px rgba(0,0,0,.66)}
    .abs-scene{position:absolute;inset:-6% -6% -10% -6%;z-index:-1;perspective:1100px}
    .abs{position:absolute;width:150px;height:120px;transform-style:preserve-3d;will-change:transform}.abs svg{width:100%;height:100%}
    .tri-shape{fill:color-mix(in srgb,var(--accent) 12%, transparent);stroke:#fff;stroke-width:2;stroke-linejoin:round}
    .glow-stroke{opacity:.45;filter:url(#glow)}
    .abs.pulse .tri-shape{fill:color-mix(in srgb,var(--accent) 18%, transparent)}.abs.pulse .glow-stroke{opacity:.95;animation:glowPulse 1.25s ease-in-out infinite}
    @keyframes glowPulse{0%{filter:drop-shadow(0 0 10px rgba(239,68,68,.45)) drop-shadow(0 0 24px rgba(239,68,68,.35));opacity:.55}50%{filter:drop-shadow(0 0 16px rgba(239,68,68,.6)) drop-shadow(0 0 36px rgba(239,68,68,.55));opacity:.98}100%{filter:drop-shadow(0 0 10px rgba(239,68,68,.45)) drop-shadow(0 0 24px rgba(239,68,68,.35));opacity:.55}}
    main [data-view]{display:none}
    body[data-view="home"] [data-view="home"],body[data-view="pricing"] [data-view="pricing"],body[data-view="soft"] [data-view="soft"],body[data-view="updates"] [data-view="updates"],body[data-view="account"] [data-view="account"]{display:block}
    section{padding:36px 0 54px}h2{font-size:clamp(22px,3.4vw,34px);margin:8px 0 12px}.muted{color:var(--muted)}
    footer{margin-top:48px;padding:24px 0 40px;color:var(--muted);border-top:1px solid var(--border)}
    
    /* Additional styles for the admin and updates pages */
    .admin-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      max-width: 500px;
      margin: 20px auto;
    }
    .admin-card input, .admin-card textarea {
      width: calc(100% - 24px);
      padding: 12px;
      margin-bottom: 12px;
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text);
      border-radius: 8px;
    }
    .admin-card button {
      width: 100%;
      background: linear-gradient(180deg,#1c0f12,#2a1216);
      color: #fff;
      border: 1px solid color-mix(in srgb,var(--primary) 58%, var(--border));
      cursor: pointer;
      padding: 12px;
      border-radius: 12px;
      font-weight: 800;
      box-shadow: 0 0 0 1px color-mix(in srgb, var(--primary) 38%, transparent) inset, 0 0 28px color-mix(in srgb, var(--primary) 46%, transparent), 0 12px 34px rgba(0,0,0,.5);
    }
    /* –°—Ç–∏–ª—ñ –¥–ª—è —á–µ–∫–±–æ–∫—Å–∞ "–ó–∞–ø–∞–º'—è—Ç–∞—Ç–∏ –º–µ–Ω–µ" */
    .remember-me {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 20px;
    }
    .remember-me input[type="checkbox"] {
        width: 16px;
        height: 16px;
        margin: 0;
        cursor: pointer;
    }

    .soft-program {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 15px;
        cursor: pointer;
        transition: transform .15s ease, box-shadow .2s ease;
    }
    .soft-program:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 18px rgba(0,0,0,.5), 0 0 22px rgba(220,38,38,.45);
    }
    .soft-program h3 {
        margin: 0 0 8px 0;
        color: var(--primary);
    }
    
    .update-post {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 20px;
    }
    .update-post h3 {
      margin-top: 0;
    }
    .update-media {
        margin: 16px 0;
        border-radius: 12px;
        overflow: hidden;
    }
    .update-media img {
        width: 100%;
        height: auto;
        display: block;
    }
    .update-media iframe {
        width: 100%;
        aspect-ratio: 16 / 9; 
        border: none;
    }
    .rls-warning {
        background: #2a1216;
        padding: 16px;
        border-radius: 12px;
        margin-top: 20px;
        border: 1px solid var(--primary);
        color: #ffdddd;
    }
    /* --- –°–¢–ò–õ–Ü –î–õ–Ø –ú–û–î–ê–õ–¨–ù–û–ì–û –í–Ü–ö–ù–ê --- */
    #language-modal {
        position: fixed;
        inset: 0;
        z-index: 9999; 
        background: rgba(0, 0, 0, 0.85);
        backdrop-filter: blur(4px);
        display: none; 
        place-items: center; 
        padding: 20px;
    }
    #language-modal[data-active="true"] {
        display: grid;
    }
    .modal-content {
        background: var(--card);
        border: 1px solid color-mix(in srgb, var(--primary) 22%, var(--border));
        border-radius: 16px;
        padding: 30px;
        max-width: 400px;
        width: 100%;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(239, 68, 68, 0.2);
    }
    .modal-content h3 {
        margin-top: 0;
        color: var(--text); 
    }
    .modal-actions {
        margin-top: 20px;
        display: flex;
        justify-content: center;
        gap: 15px;
    }
    .lang-btn {
        background: linear-gradient(180deg,#1c0f12,#2a1216);
        color: #fff;
        border-radius: 10px;
        padding: 10px 15px;
        font-weight: 700;
        border: 1px solid color-mix(in srgb,var(--primary) 58%, var(--border));
        box-shadow: 0 0 0 1px color-mix(in srgb,var(--primary) 48%, transparent) inset,0 0 36px color-mix(in srgb,var(--primary) 52%, transparent);
        cursor: pointer;
        transition: transform .12s ease, box-shadow .2s ease;
    }
    .lang-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 0 0 1px color-mix(in srgb,var(--primary) 68%, transparent) inset,0 0 48px color-mix(in srgb,var(--primary) 65%, transparent);
    }
    /* –°—Ç–∏–ª—ñ –¥–ª—è –ø–µ—Ä–µ–º–∏–∫–∞—á–∞ —Ñ–æ—Ä–º–∏ */
    .form-switcher {
        margin-top: 15px;
        text-align: center;
    }
    .form-switcher a {
        color: var(--primary);
        cursor: pointer;
        text-decoration: underline;
        font-weight: 600;
    }
  </style>
</head>
<body data-view="home">
  <header class="topbar" role="banner">
    <div class="container topbar-inner">
      <div class="brand">
        <span class="brand-icon" aria-hidden="true" title="Softis logo">
          <img class="brand-img" src="images/logo_32.png" alt="Softis logo" width="24" height="24" decoding="async" loading="eager">
        </span>
        <span>Softis</span>
      </div>
      <nav class="mainnav" aria-label="–ù–∞–≤—ñ–≥–∞—Ü—ñ—è">
        <a class="nav-pill" href="#/" data-route="home" data-i18n="nav_home">–ì–æ–ª–æ–≤–Ω–∞</a>
        <a class="nav-pill" href="#/pricing" data-route="pricing" data-i18n="nav_pricing">–¶—ñ–Ω–∏</a>
        <a class="nav-pill" href="#/soft" data-route="soft" data-i18n="nav_soft">–°–æ—Ñ—Ç</a>
        <a class="nav-pill" href="#/updates" data-route="updates" data-i18n="nav_updates">–û–Ω–æ–≤–ª–µ–Ω–Ω—è</a>
        <a class="nav-pill" href="#/account" data-route="account" data-i18n="nav_account">–í—Ö—ñ–¥ –≤ –∞–∫–∞—É–Ω—Ç</a>
      </nav>
      <div style="display:flex;justify-content:flex-end"></div>
    </div>
  </header>

  <main>
    <section class="hero" data-view="home">
      <svg width="0" height="0" style="position:absolute;opacity:0;pointer-events:none">
        <defs>
          <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="b1"/>
            <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="b2"/>
            <feMerge><feMergeNode in="b1"/><feMergeNode in="b2"/></feMerge>
          </filter>
        </defs>
      </svg>
      <div class="abs-scene" aria-hidden="true">
        <svg class="bg-tris" viewBox="0 0 1200 700" preserveAspectRatio="xMidYMid slice" style="position:absolute;inset:-8% -8% -8% -8%;opacity:.22;filter:blur(2px)">
          <defs><symbol id="bgtri" viewBox="0 0 100 80"><polygon points="12,10 92,40 12,70" fill="rgba(239,68,68,.07)" stroke="#fff" stroke-width="1"/></symbol></defs>
          <use href="#bgtri" x="40" y="60" width="70" height="56"/><use href="#bgtri" x="220" y="140" width="90" height="72"/><use href="#bgtri" x="420" y="40" width="60" height="48"/><use href="#bgtri" x="680" y="120" width="84" height="67"/><use href="#bgtri" x="920" y="80" width="76" height="61"/><use href="#bgtri" x="160" y="360" width="88" height="70"/><use href="#bgtri" x="520" y="340" width="72" height="57"/><use href="#bgtri" x="840" y="380" width="96" height="76"/>
        </svg>
        <div class="abs" data-depth="0.6" style="left:6%; top:12%"><svg viewBox="0 0 100 80"><polygon class="tri-shape" points="12,10 92,40 12,70"/><polygon class="glow-stroke" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
        <div class="abs" data-depth="0.9" style="left:24%; top:26%; width:130px; height:104px"><svg viewBox="0 0 100 80"><polygon class="tri-shape" points="12,10 92,40 12,70"/><polygon class="glow-stroke" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
        <div class="abs" data-depth="1.2" style="left:48%; top:14%; width:120px; height:96px"><svg viewBox="0 0 100 80"><polygon class="tri-shape" points="12,10 92,40 12,70"/><polygon class="glow-stroke" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
        <div class="abs" data-depth="0.7" style="left:70%; top:18%; width:140px; height:110px"><svg viewBox="0 0 100 80"><polygon class="tri-shape" points="12,10 92,40 12,70"/><polygon class="glow-stroke" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
        <div class="abs" data-depth="1.0" style="left:12%; top:60%; width:170px; height:130px"><svg viewBox="0 0 100 80"><polygon class="tri-shape" points="12,10 92,40 12,70"/><polygon class="glow-stroke" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
        <div class="abs" data-depth="1.4" style="left:44%; top:64%; width:150px; height:116px"><svg viewBox="0 0 100 80"><polygon class="tri-shape" points="12,10 92,40 12,70"/><polygon class="glow-stroke" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
        <div class="abs" data-depth="1.6" style="left:75%; top:58%; width:160px; height:124px"><svg viewBox="0 0 100 80"><polygon class="tri-shape" points="12,10 92,40 12,70"/><polygon class="glow-stroke" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
      </div>
      <div class="container">
        <div class="reading-pad">
          <h1 data-i18n="hero_title">–ú–∏ –≤–∞—à –ø–æ–º—ñ—á–Ω–∏–∫ –≤ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ–Ω—Ç–µ–Ω—Ç—É –¥–ª—è YouTube.</h1>
          <p class="lead" data-i18n="hero_lead">–¶–µ —Å–æ—Ñ—Ç, —è–∫–∏–π –¥–æ–ø–æ–º–∞–≥–∞—î –≤–∞–º —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–∑–≤—É—á–∫—É, –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å—É–±—Ç–∏—Ç—Ä–∏. –†—É—Ö–∞–π—Ç–µ –º–∏—à–∫–æ—é ‚Äî —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫–∏ —Ä–µ–∞–≥—É—é—Ç—å. –õ–∏—à–µ –ø—Ä–∏—î–º–Ω–∏–π –ø–∞—Ä–∞–ª–∞–∫—Å —ñ –Ω–µ–æ–Ω–æ–≤–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è.</p>
          <div class="actions">
            <a class="btn-primary" href="#/pricing" data-i18n="btn_try">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</a>
            <a class="btn-ghost" href="#/soft" data-i18n="btn_examples">–î–∏–≤–∏—Ç–∏—Å—è –ø—Ä–∏–∫–ª–∞–¥–∏</a>
          </div>
        </div>
      </div>
      
      <div id="language-modal" aria-modal="true" role="dialog" aria-labelledby="modal-title">
          <div class="modal-content">
              <h3 id="modal-title">–û–±–µ—Ä—ñ—Ç—å –º–æ–≤—É / Choose Language</h3>
              <p class="muted" data-i18n="modal_subtitle">–í–∞—à –≤–∏–±—ñ—Ä –±—É–¥–µ –∑–±–µ—Ä–µ–∂–µ–Ω–æ.</p>
              <div class="modal-actions">
                  <button class="lang-btn" data-lang="uk">
                      üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞
                  </button>
                  <button class="lang-btn" data-lang="en">
                      üá¨üáß English
                  </button>
              </div>
          </div>
      </div>
      
    </section>
    <section class="container" data-view="pricing">
      <h2 data-i18n="pricing_title">–¶—ñ–Ω–∏ —Ç–∞ –¥–æ—Å—Ç—É–ø –¥–æ –°–æ—Ñ—Ç—É</h2>
      <p class="lead" data-i18n="pricing_lead">–î–ª—è –ø—Ä–∏–¥–±–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É (–∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–æ—é –∞–±–æ —ñ–Ω—à–∏–º —Å–ø–æ—Å–æ–±–æ–º) —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó, –±—É–¥—å –ª–∞—Å–∫–∞, –∑–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞—à–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º —É Telegram. –î–æ—Å—Ç—É–ø –¥–æ –°–æ—Ñ—Ç—É –±—É–¥–µ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –≤—Ä—É—á–Ω—É –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏.</p>
      <div class="actions">
        <a class="btn-primary" href="https://t.me/Aliar4ik" target="_blank" data-i18n="btn_manager">–ù–∞–ø–∏—Å–∞—Ç–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—É –≤ Telegram</a>
      </div>
    </section>
    <section class="container" data-view="soft">
        <h2 data-i18n="soft_title">–°–æ—Ñ—Ç</h2>
        <p class="lead" data-i18n="soft_lead">–û–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É, —è–∫—É –±–∞–∂–∞—î—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏:</p>

        <div class="soft-program" data-product="voiceover">
            <h3>–û–∑–≤—É—á–∫–∞ –í—ñ–¥–µ–æ (Video Voiceover)</h3>
            <p class="muted">–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω–æ—ó –æ–∑–≤—É—á–∫–∏ –¥–ª—è –≤–∞—à–∏—Ö –≤—ñ–¥–µ–æ –Ω–∞ YouTube.</p>
        </div>

        <div class="soft-program" data-product="image_gen">
            <h3>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ó–æ–±—Ä–∞–∂–µ–Ω—å (Image Generator)</h3>
            <p class="muted">–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫ —Ç–∞ —ñ–ª—é—Å—Ç—Ä–∞—Ü—ñ–π –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–µ–∫—Å—Ç—É.</p>
        </div>

        <div class="soft-program" data-product="subtitles">
            <h3>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –°—É–±—Ç–∏—Ç—Ä—ñ–≤ (Subtitles Generator)</h3>
            <p class="muted">–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —Å—É–±—Ç–∏—Ç—Ä—ñ–≤.</p>
        </div>

    </section>
    <section class="container" data-view="updates">
      <h2 data-i18n="updates_title">–û–Ω–æ–≤–ª–µ–Ω–Ω—è</h2>
      <div id="updatesList">
        </div>
    </section>
    <section class="container" data-view="account">
      <h2 data-i18n="account_title">–í—Ö—ñ–¥ –≤ –∞–∫–∞—É–Ω—Ç</h2>
      <div class="admin-card">
        <p class="muted" id="authStatusText" data-i18n="auth_status_default">–ë—É–¥—å –ª–∞—Å–∫–∞, —É–≤—ñ–π–¥—ñ—Ç—å.</p>
        
        <form id="authForm" data-mode="login">
          <input type="email" id="authEmail" placeholder="–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞" required />
          <input type="password" id="authPassword" placeholder="–ü–∞—Ä–æ–ª—å" required />
          <input type="password" id="authConfirmPassword" placeholder="–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" style="display:none;" />
          
          <div class="remember-me" id="rememberMeContainer">
            <input type="checkbox" id="rememberMe">
            <label for="rememberMe" data-i18n="remember_me">–ó–∞–ø–∞–º'—è—Ç–∞—Ç–∏ –º–µ–Ω–µ</label>
          </div>

          <button class="btn" type="submit" id="authSubmitBtn" data-i18n="login_btn">–£–≤—ñ–π—Ç–∏</button>
          
          <div class="form-switcher">
            <a id="switchFormLink" data-i18n="switch_to_register">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</a>
          </div>
        </form>
        
        <div id="userDashboard" style="display:none; margin-top:20px;">
            <h3 data-i18n="user_dashboard_title">–í–∞—à –∞–∫–∞—É–Ω—Ç</h3>
            <p data-i18n="user_dashboard_info" class="muted">–¢—É—Ç –≤–∏ –∑–º–æ–∂–µ—Ç–µ –∫–µ—Ä—É–≤–∞—Ç–∏ —Å–≤–æ—ó–º–∏ –ø—ñ–¥–ø–∏—Å–∫–∞–º–∏ —Ç–∞ –±–∞—á–∏—Ç–∏ —ó—Ö —Å—Ç–∞—Ç—É—Å.</p>
            
            <a class="btn-primary" href="#/pricing" style="width:100%; box-sizing:border-box; text-align:center; margin-bottom:15px;" data-i18n="btn_buy_subscription">–ö—É–ø–∏—Ç–∏/–ü–æ–Ω–æ–≤–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É</a>

            <button id="logoutButtonUser" class="btn-ghost" style="margin-top: 0;" data-i18n="logout_btn">–í–∏–π—Ç–∏ –∑ –∞–∫–∞—É–Ω—Ç—É</button>
        </div>

        <div id="adminDashboard" style="display:none; margin-top:20px;">
          <h3 data-i18n="publish_title">–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å: –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è</h3>
          <form id="publishForm">
            <input type="text" id="postTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫" required data-i18n="title_placeholder"/>
            <input type="url" id="mediaUrl" placeholder="–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–±–æ YouTube-–≤—ñ–¥–µ–æ (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)" data-i18n="media_url_placeholder"/>
            <textarea id="postContent" placeholder="–í–º—ñ—Å—Ç –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó" rows="6" required data-i18n="content_placeholder"></textarea>
            <button class="btn" type="submit" data-i18n="publish_btn">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button>
          </form>
          <button id="logoutButtonAdmin" class="btn-primary" style="margin-top: 15px;" data-i18n="logout_btn">–í–∏–π—Ç–∏ –∑ –∞–∫–∞—É–Ω—Ç—É</button>
        </div>
      </div>
    </section>
  </main>
  <footer><div class="container" style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap"><span>¬© 2025 Softis</span></div></footer>
  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.44.2/+esm';
    
    // =========================================================================
    // !!! –ö–†–ò–¢–ò–ß–ù–û: –ü–ï–†–°–û–ù–ê–õ–Ü–ó–ê–¶–Ü–Ø !!!
    // =========================================================================
    const SUPABASE_URL = 'https://zobpfysopstuvvpdtgob.supabase.co'; // <--- –ó–ê–ú–Ü–ù–Ü–¢–¨ –ù–ê –í–ê–® URL
    const SUPABASE_ANON_KEY = 'sb_publishable_RCeM7shKEQQEc3LTyNzxBw_O86XFIQi'; // <--- –ó–ê–ú–Ü–ù–Ü–¢–¨ –ù–ê –í–ê–® –ê–ö–¢–£–ê–õ–¨–ù–ò–ô ANON KEY
    
    // !!! –ö–û–ù–°–¢–ê–ù–¢–ê ADMIN_EMAIL –í–ò–î–ê–õ–ï–ù–ê !!!
    // =========================================================================
    
    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
    
    const routes=['home','pricing','soft','updates','account']; 
    const navLinks=document.querySelectorAll('.mainnav .nav-pill');
    
    // --- –°–õ–û–í–ù–ò–ö –ü–ï–†–ï–ö–õ–ê–î–Ü–í ---
    const translations = {
        // ... (–ø–µ—Ä–µ–∫–ª–∞–¥–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –±–µ–∑ –∑–º—ñ–Ω) ...
        en: {
            nav_home: 'Home', nav_pricing: 'Pricing', nav_soft: 'Soft', nav_updates: 'Updates', nav_account: 'Login/Account',
            hero_title: 'We are your content creation assistant for YouTube.',
            hero_lead: 'This software helps you create voiceovers, generate images, and create subtitles. Just pleasant parallax and neon glow.',
            btn_try: 'Try for Free', btn_examples: 'View Examples', modal_subtitle: 'Your choice will be saved.',
            pricing_title: 'Pricing and Access to Soft',
            pricing_lead: 'To purchase access (crypto or other) and receive consultation, please contact our manager on Telegram. Access to the Soft will be activated manually after payment.',
            btn_manager: 'Contact Manager on Telegram',
            
            user_dashboard_title: 'Your Account',
            user_dashboard_info: 'Here you can manage your subscriptions and see their status.',
            btn_buy_subscription: 'Buy/Renew Subscription',
            
            account_title: 'Login to Account',
            auth_status_default: 'Please log in or register.',
            auth_status_logged_in: (email) => `You are logged in as ${email}`,
            login_btn: 'Log In',
            register_btn: 'Register', 
            switch_to_register: 'Register an account', 
            switch_to_login: 'Log In to account', 
            
            remember_me: 'Remember me', 
            logout_btn: 'Log Out', 
            publish_title: 'Admin Panel: Publish New Update',
            publish_btn: 'Publish',
            title_placeholder: 'Title',
            media_url_placeholder: 'Image or YouTube URL (optional)',
            content_placeholder: 'Post content',

            soft_title: 'Soft',
            soft_lead: 'Select the program you wish to use:', 
            alert_login_required: 'Please log in or register to use the Soft.',
            alert_product_required: (product) => `You do not have an active subscription for ${product}. Payment is required for access.`, 
            
            updates_title: 'Updates', updates_loading: 'Loading updates...', updates_error: 'Error loading updates', updates_none: 'No updates available yet.', published_on: 'Published', publish_error: 'Publication error', publish_success: 'Post successfully added!', go_to_updates: 'Go to updates', generic_error: 'An error occurred.',
            
            register_success: 'Registration successful! Please check your email to confirm your account.',
            passwords_mismatch: 'Passwords do not match.',
            login_error: 'Login error',
            register_error: 'Registration error'
        },
        // –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞
        uk: {
            nav_home: '–ì–æ–ª–æ–≤–Ω–∞', nav_pricing: '–¶—ñ–Ω–∏', nav_soft: '–°–æ—Ñ—Ç', nav_updates: '–û–Ω–æ–≤–ª–µ–Ω–Ω—è', nav_account: '–í—Ö—ñ–¥ –≤ –∞–∫–∞—É–Ω—Ç',
            hero_title: '–ú–∏ –≤–∞—à –ø–æ–º—ñ—á–Ω–∏–∫ –≤ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ–Ω—Ç–µ–Ω—Ç—É –¥–ª—è YouTube.',
            hero_lead: '–¶–µ —Å–æ—Ñ—Ç, —è–∫–∏–π –¥–æ–ø–æ–º–∞–≥–∞—î –≤–∞–º —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–∑–≤—É—á–∫—É, –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å—É–±—Ç–∏—Ç—Ä–∏. –õ–∏—à–µ –ø—Ä–∏—î–º–Ω–∏–π –ø–∞—Ä–∞–ª–∞–∫—Å —ñ –Ω–µ–æ–Ω–æ–≤–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è.',
            btn_try: '–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ', btn_examples: '–î–∏–≤–∏—Ç–∏—Å—è –ø—Ä–∏–∫–ª–∞–¥–∏', modal_subtitle: '–í–∞—à –≤–∏–±—ñ—Ä –±—É–¥–µ –∑–±–µ—Ä–µ–∂–µ–Ω–æ.',
            pricing_title: '–¶—ñ–Ω–∏ —Ç–∞ –¥–æ—Å—Ç—É–ø –¥–æ –°–æ—Ñ—Ç—É',
            pricing_lead: '–î–ª—è –ø—Ä–∏–¥–±–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É (–∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–æ—é –∞–±–æ —ñ–Ω—à–∏–º —Å–ø–æ—Å–æ–±–æ–º) —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó, –±—É–¥—å –ª–∞—Å–∫–∞, –∑–≤\'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞—à–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º —É Telegram. –î–æ—Å—Ç—É–ø –¥–æ –°–æ—Ñ—Ç—É –±—É–¥–µ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –≤—Ä—É—á–Ω—É –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏.',
            btn_manager: '–ù–∞–ø–∏—Å–∞—Ç–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—É –≤ Telegram',
            
            user_dashboard_title: '–í–∞—à –∞–∫–∞—É–Ω—Ç',
            user_dashboard_info: '–¢—É—Ç –≤–∏ –∑–º–æ–∂–µ—Ç–µ –∫–µ—Ä—É–≤–∞—Ç–∏ —Å–≤–æ—ó–º–∏ –ø—ñ–¥–ø–∏—Å–∫–∞–º–∏ —Ç–∞ –±–∞—á–∏—Ç–∏ —ó—Ö —Å—Ç–∞—Ç—É—Å.',
            btn_buy_subscription: '–ö—É–ø–∏—Ç–∏/–ü–æ–Ω–æ–≤–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É',
            
            account_title: '–í—Ö—ñ–¥ –≤ –∞–∫–∞—É–Ω—Ç',
            auth_status_default: '–ë—É–¥—å –ª–∞—Å–∫–∞, —É–≤—ñ–π–¥—ñ—Ç—å –∞–±–æ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å.',
            auth_status_logged_in: (email) => `–í–∏ —É–≤—ñ–π—à–ª–∏ —è–∫ ${email}`,
            login_btn: '–£–≤—ñ–π—Ç–∏',
            register_btn: '–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è', 
            switch_to_register: '–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –∞–∫–∞—É–Ω—Ç', 
            switch_to_login: '–£–≤—ñ–π—Ç–∏ –≤ –∞–∫–∞—É–Ω—Ç', 
            
            remember_me: '–ó–∞–ø–∞–º\'—è—Ç–∞—Ç–∏ –º–µ–Ω–µ', 
            logout_btn: '–í–∏–π—Ç–∏ –∑ –∞–∫–∞—É–Ω—Ç—É', 
            publish_title: '–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å: –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è',
            publish_btn: '–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏',
            title_placeholder: '–ó–∞–≥–æ–ª–æ–≤–æ–∫',
            media_url_placeholder: '–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–±–æ YouTube-–≤—ñ–¥–µ–æ (–Ω–µ–æ–±–æ–≤\'—è–∑–∫–æ–≤–æ)',
            content_placeholder: '–í–º—ñ—Å—Ç –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó',

            soft_title: '–°–æ—Ñ—Ç',
            soft_lead: '–û–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É, —è–∫—É –±–∞–∂–∞—î—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏:', 
            alert_login_required: '–ë—É–¥—å –ª–∞—Å–∫–∞, —É–≤—ñ–π–¥—ñ—Ç—å –∞–±–æ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å, —â–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è –°–æ—Ñ—Ç–æ–º.',
            alert_product_required: (product) => `–£ –≤–∞—Å –Ω–µ–º–∞—î –∞–∫—Ç–∏–≤–Ω–æ—ó –ø—ñ–¥–ø–∏—Å–∫–∏ –Ω–∞ ${product}. –î–ª—è –¥–æ—Å—Ç—É–ø—É –ø–æ—Ç—Ä—ñ–±–Ω–∞ –æ–ø–ª–∞—Ç–∞.`, 
            
            updates_title: '–û–Ω–æ–≤–ª–µ–Ω–Ω—è', updates_loading: '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—å...', updates_error: '–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—å', updates_none: '–ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î –æ–Ω–æ–≤–ª–µ–Ω—å.', published_on: '–û–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ', publish_error: '–ü–æ–º–∏–ª–∫–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó', publish_success: '–ü—É–±–ª—ñ–∫–∞—Ü—ñ—é —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!', go_to_updates: '–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ–Ω–æ–≤–ª–µ–Ω—å', generic_error: '–í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞.',
            
            register_success: '–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞! –ë—É–¥—å –ª–∞—Å–∫–∞, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–≤–æ—é –ø–æ—à—Ç—É –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç—É.',
            passwords_mismatch: '–ü–∞—Ä–æ–ª—ñ –Ω–µ –∑–±—ñ–≥–∞—é—Ç—å—Å—è.',
            login_error: '–ü–æ–º–∏–ª–∫–∞ –≤—Ö–æ–¥—É',
            register_error: '–ü–æ–º–∏–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó'
        }
    };

    function getEmbedUrl(url) {
        if (!url) return null;
        let match = url.match(/(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|v\/|shorts\/))([\w-]+)/);
        if (match && match[1]) {
            return `https://www.youtube.com/embed/${match[1]}`;
        }
        if (url.match(/\.(jpeg|jpg|gif|png|webp)$/i)) {
            return url; 
        }
        return url;
    }
    
    // --- –ü–ï–†–ï–í–Ü–†–ö–ê –ü–Ü–î–ü–ò–°–ö–ò –ù–ê –ö–û–ù–ö–†–ï–¢–ù–ò–ô –ü–†–û–î–£–ö–¢ ---
    async function checkProductAccess(userId, productKey) {
        if (!userId || !productKey) return false;
        const now = new Date().toISOString();
        const { data, error } = await supabase
            .from('subscriptions')
            .select('active_until')
            .eq('user_id', userId)
            .eq('product_key', productKey) 
            .gte('active_until', now) 
            .maybeSingle(); 

        if (error && error.code !== 'PGRST116') {
            console.error('Product access check error:', error.message);
            return false;
        }
        return !!data; 
    }
    
    // =========================================================================
    // –ù–û–í–ê/–û–ù–û–í–õ–ï–ù–ê –§–£–ù–ö–¶–Ü–Ø: –ü–ï–†–ï–í–Ü–†–ö–ê –†–û–õ–Ü –ê–î–ú–Ü–ù–Ü–°–¢–†–ê–¢–û–†–ê –ß–ï–†–ï–ó –ë–î
    // =========================================================================
    /**
     * –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –º–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä–æ–ª—å 'admin' —É —Ç–∞–±–ª–∏—Ü—ñ user_roles.
     * @param {string} userId - UUID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
     * @returns {Promise<boolean>} - true, —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —î –∞–¥–º—ñ–Ω–æ–º.
     */
    async function isAdmin(userId) {
        if (!userId) return false;

        const { data, error } = await supabase
            .from('user_roles')
            .select('role')
            .eq('user_id', userId)
            .eq('role', 'admin') 
            .maybeSingle();

        if (error && error.code !== 'PGRST116') {
            console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ —Ä–æ–ª—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:', error.message);
            return false;
        }
        return !!data;
    }
    // =========================================================================
    
    // --- –§–£–ù–ö–¶–Ü–Ø –ü–ï–†–ï–ö–õ–ê–î–£ (I18N) ---
    function setLanguage(langCode) {
        const currentLang = translations[langCode];
        if (!currentLang) return; 
    
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translatedText = currentLang[key];
            
            if (translatedText) {
                if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
                    element.placeholder = translatedText;
                } else if (element.tagName === 'TEXTAREA' && element.hasAttribute('placeholder')) {
                    element.placeholder = translatedText;
                } else if (typeof translatedText === 'function') {
                    if (key === 'auth_status_logged_in') {
                        supabase.auth.getSession().then(({ data: { session } }) => {
                            if (session) {
                                element.innerText = translatedText(session.user.email);
                            }
                        });
                    }
                } else {
                    element.innerText = translatedText;
                }
            }
        });
        
        localStorage.setItem('userLang', langCode);
        document.documentElement.lang = langCode; 
        
        supabase.auth.getSession().then(({ data: { session } }) => {
            handleAuthStatus(session, langCode);
        });
    }

    // --- –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ø –û–ù–û–í–õ–ï–ù–¨ ---
    async function fetchUpdates() {
      // ... (–ª–æ–≥—ñ–∫–∞ fetchUpdates –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –±–µ–∑ –∑–º—ñ–Ω) ...
      const updatesList = document.getElementById('updatesList');
      const lang = translations[localStorage.getItem('userLang') || 'uk'];
      
      updatesList.innerHTML = `<p class="muted">${lang.updates_loading}</p>`;
      
      let posts = [];
      
      try {
        const { data, error } = await supabase
          .from('articles') 
          .select('*')
          .order('created_at', { ascending: false });

        if (error) {
          updatesList.innerHTML = `<p class="muted">${lang.updates_error}: ${error.message}</p>`;
          console.error('Error fetching updates:', error);
          return;
        }
        
        posts = data; 
        
      } catch (e) {
        updatesList.innerHTML = `<p class="muted">${lang.generic_error}. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü—è "articles".</p>`;
        console.error('Catch block error:', e);
        return; 
      }
      
      if (posts.length === 0) {
        updatesList.innerHTML = `<p class="muted">${lang.updates_none}</p>`;
        return;
      }

      updatesList.innerHTML = posts.map(post => {
        let mediaHtml = '';
        if (post.media_url) {
          const embedUrl = getEmbedUrl(post.media_url);
          if (embedUrl && embedUrl.includes('youtube.com/embed')) {
            mediaHtml = `<div class="update-media"><iframe src="${embedUrl}" allowfullscreen title="–í—ñ–¥–µ–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è"></iframe></div>`;
          } else if (embedUrl) {
            mediaHtml = `<div class="update-media"><img src="${embedUrl}" alt="–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è" loading="lazy"></div>`;
          }
        }

        return `
          <div class="update-post">
            <h3>${post.title}</h3>
            ${mediaHtml}
            <p>${post.content}</p>
            <p class="muted"><small>${lang.published_on}: ${new Date(post.created_at).toLocaleDateString()}</small></p>
          </div>
        `;
      }).join('');
    }

    // --- –û–ë–†–û–ë–ö–ê –°–¢–ê–ù–£ –ê–£–¢–ï–ù–¢–ò–§–Ü–ö–ê–¶–Ü–á –¢–ê –ê–î–ú–Ü–ù-–î–û–°–¢–£–ü–£ (–û–ù–û–í–õ–ï–ù–û) ---
    async function handleAuthStatus(session, currentLangCode) {
      const authStatusText = document.getElementById('authStatusText');
      const authForm = document.getElementById('authForm');
      const adminDashboard = document.getElementById('adminDashboard');
      const userDashboard = document.getElementById('userDashboard');
      const lang = translations[currentLangCode || localStorage.getItem('userLang') || 'uk'];
      const loggedInMessage = lang.auth_status_logged_in;

      if (authForm) authForm.style.display = 'none';
      if (adminDashboard) adminDashboard.style.display = 'none';
      if (userDashboard) userDashboard.style.display = 'none';

      if (session) {
        const userEmail = session.user.email;
        authStatusText.textContent = loggedInMessage(userEmail);
        
        // –ö–õ–Æ–ß–û–í–ò–ô –ú–û–ú–ï–ù–¢: –ü–ï–†–ï–í–Ü–†–ö–ê –ß–ï–†–ï–ó –ë–ê–ó–£ –î–ê–ù–ò–• (isAdmin)
        const isUserAdmin = await isAdmin(session.user.id); 

        if (isUserAdmin) {
            // –ê–î–ú–Ü–ù
            if (adminDashboard) adminDashboard.style.display = 'block';
        } else {
            // –ó–í–ò–ß–ê–ô–ù–ò–ô –ö–û–†–ò–°–¢–£–í–ê–ß
            if (userDashboard) userDashboard.style.display = 'block';
        }
      } else {
        // –í–ò–ô–®–û–í
        authStatusText.textContent = lang.auth_status_default;
        if (authForm) {
            authForm.style.display = 'block';
            setFormMode('login');
        }
      }
    }
    
    // --- –ü–ï–†–ï–ú–ò–ö–ê–ù–ù–Ø –§–û–†–ú–ò –í–•–Ü–î/–†–ï–Ñ–°–¢–†–ê–¶–Ü–Ø ---
    function setFormMode(mode) {
        const authSubmitBtn = document.getElementById('authSubmitBtn');
        const authConfirmPassword = document.getElementById('authConfirmPassword');
        const switchFormLink = document.getElementById('switchFormLink');
        const rememberMeContainer = document.getElementById('rememberMeContainer');
        const lang = translations[localStorage.getItem('userLang') || 'uk'];
        
        if (mode === 'register') {
            authSubmitBtn.textContent = lang.register_btn;
            authSubmitBtn.setAttribute('data-i18n', 'register_btn');
            authConfirmPassword.style.display = 'block';
            authConfirmPassword.required = true;
            switchFormLink.textContent = lang.switch_to_login;
            switchFormLink.setAttribute('data-i18n', 'switch_to_login');
            authForm.setAttribute('data-mode', 'register');
            rememberMeContainer.style.display = 'none';
        } else { // 'login'
            authSubmitBtn.textContent = lang.login_btn;
            authSubmitBtn.setAttribute('data-i18n', 'login_btn');
            authConfirmPassword.style.display = 'none';
            authConfirmPassword.required = false;
            switchFormLink.textContent = lang.switch_to_register;
            switchFormLink.setAttribute('data-i18n', 'switch_to_register');
            authForm.setAttribute('data-mode', 'login');
            rememberMeContainer.style.display = 'flex'; 
        }
    }

    let initialAuthCheckDone = false; 

    supabase.auth.onAuthStateChange((event, session) => {
      const currentLang = localStorage.getItem('userLang') || 'uk';
      const rememberMeChecked = localStorage.getItem('rememberMeChecked') === 'true';

      if (!initialAuthCheckDone && session && !rememberMeChecked) {
          console.log("Session found, but 'Remember Me' not checked. Signing out.");
          supabase.auth.signOut().then(() => {
              handleAuthStatus(null, currentLang);
              render();
          }).catch(console.error);
          initialAuthCheckDone = true; 
          return; 
      }
      
      if (event === 'SIGNED_IN' || event === 'SIGNED_OUT' || !initialAuthCheckDone) {
          handleAuthStatus(session, currentLang);
          render();
          initialAuthCheckDone = true;
      }
    });
    
    // --- –û–ë–†–û–ë–ö–ê –§–û–†–ú–ò (–í–•–Ü–î –¢–ê –†–ï–Ñ–°–¢–†–ê–¶–Ü–Ø) ---
    const authForm = document.getElementById('authForm');
    const authStatusText = document.getElementById('authStatusText');
    const switchFormLink = document.getElementById('switchFormLink');

    if (authForm) {
      switchFormLink.addEventListener('click', (e) => {
          e.preventDefault();
          const currentMode = authForm.getAttribute('data-mode');
          setFormMode(currentMode === 'login' ? 'register' : 'login');
          authStatusText.textContent = translations[localStorage.getItem('userLang') || 'uk'].auth_status_default;
      });

      authForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const mode = authForm.getAttribute('data-mode');
        const email = document.getElementById('authEmail').value;
        const password = document.getElementById('authPassword').value;
        const confirmPassword = document.getElementById('authConfirmPassword').value;
        const rememberMe = document.getElementById('rememberMe').checked; 
        const lang = translations[localStorage.getItem('userLang') || 'uk'];

        if (mode === 'register') {
            if (password !== confirmPassword) {
                authStatusText.textContent = lang.passwords_mismatch;
                return;
            }

            const { error } = await supabase.auth.signUp({ email, password });

            if (error) {
                console.error(`–ü–æ–º–∏–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó: ${error.message}`);
                authStatusText.textContent = `${lang.register_error}: ${error.message}`;
            } else {
                authStatusText.textContent = lang.register_success;
                setFormMode('login'); 
            }

        } else {
            const { error } = await supabase.auth.signInWithPassword({ email, password });

            if (error) {
                console.error(`–ü–æ–º–∏–ª–∫–∞ –≤—Ö–æ–¥—É: ${error.message}`);
                authStatusText.textContent = `${lang.login_error}: ${error.message}`;
            } else {
                if (rememberMe) {
                    localStorage.setItem('rememberMeChecked', 'true');
                    localStorage.setItem('rememberedUserEmail', email);
                } else {
                    localStorage.removeItem('rememberMeChecked'); 
                    localStorage.removeItem('rememberedUserEmail');
                }
            }
        }
      });
    }

    // --- –õ–û–ì–Ü–ö–ê –í–ò–•–û–î–£ ---
    function handleLogout() {
        supabase.auth.signOut().then(({ error }) => {
            localStorage.removeItem('rememberMeChecked'); 
            localStorage.removeItem('rememberedUserEmail');
            if (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞ –≤–∏—Ö–æ–¥—É:', error);
            }
            window.location.hash = '#/account';
        });
    }

    document.getElementById('logoutButtonAdmin')?.addEventListener('click', handleLogout);
    document.getElementById('logoutButtonUser')?.addEventListener('click', handleLogout);

    // --- –õ–û–ì–Ü–ö–ê –ü–£–ë–õ–Ü–ö–ê–¶–Ü–á (–ê–î–ú–Ü–ù) ---
    const publishForm = document.getElementById('publishForm');
    if (publishForm) {
      publishForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const lang = translations[localStorage.getItem('userLang') || 'uk'];
        const title = document.getElementById('postTitle').value;
        const content = document.getElementById('postContent').value;
        const mediaUrl = document.getElementById('mediaUrl').value;
        
        try {
          const { data, error } = await supabase 
            .from('articles')
            .insert([{ title: title, content: content, media_url: mediaUrl || null }]);

          if (error) {
            console.error('–ü–æ–º–∏–ª–∫–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó:', error);
            document.getElementById('authStatusText').textContent = `${lang.publish_error}: ${error.message}`;
          } else {
            document.getElementById('authStatusText').innerHTML = `${lang.publish_success} <a href="#/updates" style="text-decoration:underline;color:var(--accent);font-weight:700;">${lang.go_to_updates}</a>`;
            document.getElementById('postTitle').value = '';
            document.getElementById('postContent').value = '';
            document.getElementById('mediaUrl').value = '';
            
            fetchUpdates();
          }
        } catch (e) {
          console.error('Catch block error:', e);
          document.getElementById('authStatusText').textContent = lang.generic_error;
        }
      });
    }

    // --- –õ–û–ì–Ü–ö–ê –ú–ê–†–®–†–£–¢–ò–ó–ê–¶–Ü–á (SPA) –¢–ê SOFT-–î–û–°–¢–£–ü–£ (–û–ù–û–í–õ–ï–ù–û) ---
    function parseRoute(){const h=location.hash.replace(/^#/,''); const seg=h.startsWith('/')?h.slice(1):h; const view=seg.split('/')[0]||'home'; return routes.includes(view)?view:'home'}
    
    async function handleSoftProgramClick(productKey, productName) {
        const lang = translations[localStorage.getItem('userLang') || 'uk'];
        const { data: { session } } = await supabase.auth.getSession();

        if (!session) {
            alert(lang.alert_login_required);
            window.location.hash = '#/account';
            return;
        }
        
        // –ö–õ–Æ–ß–û–í–ò–ô –ú–û–ú–ï–ù–¢: –ü–ï–†–ï–í–Ü–†–ö–ê –ê–î–ú–Ü–ù-–°–¢–ê–¢–£–°–£ –ß–ï–†–ï–ó –ë–î
        const isUserAdmin = await isAdmin(session.user.id);
        
        if (isUserAdmin) {
            alert(`–î–æ—Å—Ç—É–ø –¥–æ –ø—Ä–æ–≥—Ä–∞–º–∏ "${productName}" –¥–æ–∑–≤–æ–ª–µ–Ω–æ (—è–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—É)! –¢—É—Ç –±—É–¥–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≥—Ä–∞–º–∏.`);
            return;
        }

        const hasAccess = await checkProductAccess(session.user.id, productKey);
        
        if (!hasAccess) {
            alert(lang.alert_product_required(productName));
            window.location.hash = '#/pricing'; 
            return;
        }

        alert(`–î–æ—Å—Ç—É–ø –¥–æ –ø—Ä–æ–≥—Ä–∞–º–∏ "${productName}" –¥–æ–∑–≤–æ–ª–µ–Ω–æ! –¢—É—Ç –±—É–¥–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≥—Ä–∞–º–∏.`);
    }

    async function render(){
        const view = parseRoute(); 
        
        document.body.setAttribute('data-view', view); 
        navLinks.forEach(a => a.setAttribute('aria-current', a.dataset.route === view ? 'page' : 'false')); 
        window.scrollTo({ top: 0, behavior: 'auto' });

        if (view === 'updates') {
             fetchUpdates();
        } else if (view === 'soft') {
            document.querySelectorAll('.soft-program').forEach(el => {
                const productKey = el.dataset.product;
                const productName = el.querySelector('h3').textContent.trim();
                
                el.removeEventListener('click', el.clickListener); 

                el.clickListener = () => handleSoftProgramClick(productKey, productName);
                el.addEventListener('click', el.clickListener);
            });
        }
    }
    
    addEventListener('hashchange',render); 
    
    // --- –õ–û–ì–Ü–ö–ê –ú–û–î–ê–õ–¨–ù–û–ì–û –í–Ü–ö–ù–ê –¢–ê –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–á ---
    document.addEventListener('DOMContentLoaded', () => {
        const modal = document.getElementById('language-modal');
        const savedLang = localStorage.getItem('userLang');

        const rememberedEmail = localStorage.getItem('rememberedUserEmail');
        const rememberMeChecked = localStorage.getItem('rememberMeChecked') === 'true';
        if (document.getElementById('authEmail') && rememberedEmail) {
            document.getElementById('authEmail').value = rememberedEmail;
        }
        if (document.getElementById('rememberMe')) {
            document.getElementById('rememberMe').checked = rememberMeChecked;
        }

        if (savedLang) {
            setLanguage(savedLang);
            modal.setAttribute('data-active', 'false');
        } else {
            setLanguage('uk');
            modal.setAttribute('data-active', 'true');
        }

        modal.querySelectorAll('.lang-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                const lang = e.currentTarget.getAttribute('data-lang');
                setLanguage(lang); 
                modal.setAttribute('data-active', 'false'); 
                render(); 
            });
        });
        
        render();
    });

    // –õ–æ–≥—ñ–∫–∞ –∞–Ω—ñ–º–∞—Ü—ñ—ó (–∑–∞–ª–∏—à–µ–Ω–æ –±–µ–∑ –∑–º—ñ–Ω)
    const scene=document.querySelector('.abs-scene'), bg=document.querySelector('.bg-tris'), tris=[...document.querySelectorAll('.abs')]; let mouseX=0, mouseY=0, t=0;
    function onMouseMove(e){ if(!scene) return; const r=scene.getBoundingClientRect(); const x=(e.clientX-r.left)/r.width, y=(e.clientY-r.top)/r.height; mouseX=(x-.5)*2; mouseY=(y-.5)*2 }
    addEventListener('mousemove', onMouseMove, {passive:true});
    function loop(){ t+=.006; if(bg){ bg.style.transform=`translate3d(${mouseX*-14}px,${mouseY*-10}px,0)` } for(const el of tris){ const d=parseFloat(el.dataset.depth||'1'); const rx=-mouseY*22*d, ry=mouseX*28*d, rz=Math.sin(t*(.6+d))*6, tz=d*80; const pulse=1+(.06*(.5+Math.sin(t*3)*.5)); el.style.transform=`translateZ(${tz}px) rotateX(${rx}deg) rotateY(${ry}deg) rotateZ(${rz}deg) scale(${pulse})` } requestAnimationFrame(loop) }
    requestAnimationFrame(loop);
    if (matchMedia('(prefers-reduced-motion: reduce)').matches){ removeEventListener('mousemove', onMouseMove); tris.forEach(el=>{el.style.transform='none'}) }
  </script>
</body>
</html>