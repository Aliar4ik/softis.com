<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Softis</title>
  <link rel="icon" type="image/png" href="assets/img/logo_32.png"/>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="assets/img/logo_32.png" alt="Softis" width="28" height="28"/>
      <span>Softis</span>
    </div>
    <nav class="nav">
      <a href="#/" class="pill">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="#/prices" class="pill">–¶—ñ–Ω–∏</a>
      <a href="#/voice" class="pill">–û–∑–≤—É—á–∫–∞</a>
      <a href="#/images" class="pill">–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å</a>
      <a href="#/subs" class="pill">–°—É–±—Ç–∏—Ç—Ä–∏</a>
      <a href="#/news" class="pill">–û–Ω–æ–≤–ª–µ–Ω–Ω—è</a>
      <a href="#/contact" class="pill">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
    </nav>
    <div class="actions">
      <button id="themeBtn" class="pill" aria-label="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">‚òÄÔ∏è/üåô</button>
    </div>
  </header>

  <!-- BG triangles -->
  <div id="triLayer"></div>

  <main id="app" class="container"></main>

  <a href="#/admin" class="admin-fab pill">Admin</a>

  <script>
  // ---------- Tiny SPA router ------------
  const routes = {
    "/": homeView,
    "/prices": pricesView,
    "/voice": voiceView,
    "/images": imagesView,
    "/subs": subsView,
    "/news": newsView,
    "/contact": contactView,
    "/admin": adminView,
  };
  function router() {
    const hash = location.hash.replace(/^#/, "") || "/";
    const view = routes[hash] || homeView;
    document.querySelectorAll(".nav .pill").forEach(a => {
      const to = a.getAttribute("href").replace(/^#/, "");
      a.classList.toggle("active", to === hash || (hash==="/" && to==="/"));
    });
    view();
  }
  window.addEventListener("hashchange", router);
  window.addEventListener("DOMContentLoaded", () => {
    // theme
    const saved = localStorage.getItem("theme") || "dark";
    document.documentElement.dataset.theme = saved;
    document.getElementById("themeBtn").addEventListener("click", () => {
      const cur = document.documentElement.dataset.theme;
      const next = cur === "dark" ? "light" : "dark";
      document.documentElement.dataset.theme = next;
      localStorage.setItem("theme", next);
    });
    buildTriangles(); // once
    router();
  });

  // ---------- Views ----------------------
  function homeView(){
    document.getElementById("app").innerHTML = `
    <section class="hero card">
      <h1>–ú–∏ –≤–∞—à –ø–æ–º—ñ—á–Ω–∏–∫ –≤ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ–Ω—Ç–µ–Ω—Ç—É –¥–ª—è YouTube.</h1>
      <p>–¶–µ —Å–æ—Ñ—Ç, —è–∫–∏–π –¥–æ–ø–æ–º–∞–≥–∞—î –≤–∞–º —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–∑–≤—É—á–∫—É, –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å—É–±—Ç–∏—Ç—Ä–∏. –†—É—Ö–∞–π—Ç–µ –º–∏—à–∫–æ—é ‚Äî —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫–∏ —Ä–µ–∞–≥—É—é—Ç—å. <b>–ù—ñ—è–∫–∏—Ö —Ö–æ–≤–µ—Ä-–µ—Ñ–µ–∫—Ç—ñ–≤</b>: –ª–∏—à–µ –ø—Ä–∏—î–º–Ω–∏–π –ø–∞—Ä–∞–ª–∞–∫—Å —ñ –Ω–µ–æ–Ω–æ–≤–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è.</p>
      <div class="row g">
        <a class="btn pill" href="#/voice">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</a>
        <a class="btn pill" href="#/images">–î–∏–≤–∏—Ç–∏—Å—è –ø—Ä–∏–∫–ª–∞–¥–∏</a>
      </div>
    </section>
    `;
  }

  function pricesView(){
    document.getElementById("app").innerHTML = `
      <section class="pad">
        <h2>–¶—ñ–Ω–∏</h2>
        <p class="muted">–ü—Ä–æ–∑–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–∏–∫–∞—Ü—ñ—è –¥–ª—è –∫–∞–Ω–∞–ª—ñ–≤ –±—É–¥—å-—è–∫–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É.</p>
        <div class="grid3">
          ${priceCard("Starter", "–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ", ["–û–∑–≤—É—á–∫–∞: 5 —Ö–≤", "3 –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è", "1 –≤—ñ–¥–µ–æ —Å—É–±—Ç–∏—Ç—Ä–∏"])}
          ${priceCard("Creator", "$19/–º—ñ—Å", ["–û–∑–≤—É—á–∫–∞: 60 —Ö–≤", "50 –∑–æ–±—Ä–∞–∂–µ–Ω—å", "10 –≤—ñ–¥–µ–æ —Å—É–±—Ç–∏—Ç—Ä–∏"])}
          ${priceCard("Studio", "$49/–º—ñ—Å", ["–û–∑–≤—É—á–∫–∞: 200 —Ö–≤", "200 –∑–æ–±—Ä–∞–∂–µ–Ω—å", "40 –≤—ñ–¥–µ–æ —Å—É–±—Ç–∏—Ç—Ä–∏"])}
        </div>
      </section>
    `;
  }
  function priceCard(title, price, feats){
    return `
    <div class="card price">
      <h3>${title}</h3>
      <div class="price-tag">${price}</div>
      <ul>${feats.map(f=>`<li>${f}</li>`).join("")}</ul>
      <button class="btn pill">–û–±—Ä–∞—Ç–∏</button>
    </div>`;
  }

  function voiceView(){
    const audios = ${json.dumps(audio_files, ensure_ascii=False)};
    document.getElementById("app").innerHTML = `
      <section class="pad">
        <h2>–û–∑–≤—É—á–∫–∞</h2>
        <p class="muted">–ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∞—à–∏—Ö –∞—É–¥—ñ–æ.</p>
        <div class="list">
          ${audio_files.map(f=>`<div class="card"><strong>${f}</strong><audio controls src="assets/audio/${f}"></audio></div>`).join("")}
        </div>
      </section>`;
  }

  function imagesView(){
    const imgs = ${json.dumps(kept_imgs, ensure_ascii=False)};
    document.getElementById("app").innerHTML = `
      <section class="pad">
        <h2>–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å</h2>
        <div class="gallery">
          ${imgs.map(f=>`<figure class="card img"><img src="assets/img/${f}" alt=""><figcaption>${f}</figcaption></figure>`).join("")}
        </div>
      </section>`;
  }

  function subsView(){
    // show nature images as "subtitles demo"
    const nature = ${json.dumps([f for f in kept_imgs if f not in ["logo_32.png"]], ensure_ascii=False)};
    document.getElementById("app").innerHTML = `
      <section class="pad">
        <h2>–°—É–±—Ç–∏—Ç—Ä–∏</h2>
        <p class="muted">–î–µ–º–æ: –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—Ä–∏—Ä–æ–¥–∏.</p>
        <div class="gallery">
          ${nature.map(f=>`<figure class="card img"><img src="assets/img/${f}" alt=""></figure>`).join("")}
        </div>
      </section>`;
  }

  function newsView(){
    document.getElementById("app").innerHTML = `
      <section class="pad">
        <h2>–û–Ω–æ–≤–ª–µ–Ω–Ω—è</h2>
        <p class="muted">–°—Ç–∞—Ç—Ç—ñ –∑ Supabase (–º–æ–∂–Ω–∞ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ).</p>
      </section>`;
  }

  function contactView(){
    document.getElementById("app").innerHTML = `
      <section class="pad">
        <h2>–ö–æ–Ω—Ç–∞–∫—Ç–∏</h2>
        <form class="card form" onsubmit="event.preventDefault(); alert('–î—è–∫—É—î–º–æ! –¶–µ –¥–µ–º–æ.'); this.reset();">
          <label>–Ü–º'—è<input type="text" required placeholder="–í–∞—à–µ —ñ–º‚Äô—è"></label>
          <label>Email<input type="email" required placeholder="name@example.com"></label>
          <label>–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è<textarea rows="5" required placeholder="–ö–æ—Ä–æ—Ç–∫–æ –æ–ø–∏—à—ñ—Ç—å –∑–∞–ø–∏—Ç"></textarea></label>
          <button class="btn pill" type="submit">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
        </form>
      </section>`;
  }

  function adminView(){
    document.getElementById("app").innerHTML = `
      <section class="pad">
        <h2>–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å</h2>
        <div class="card form admin">
          <p class="muted">–í—Ö—ñ–¥ –ø–æ –ø–∞—Ä–æ–ª—é (–¥–µ–º–æ). –ü–∞—Ä–æ–ª—å –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ª–∏—à–µ –Ω–∞ —Ü—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.</p>
          <div class="row">
            <input id="pass" class="half" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
            <button id="loginBtn" class="btn pill half">–£–≤—ñ–π—Ç–∏</button>
          </div>
          <div id="msg" class="muted"></div>
        </div>
      </section>`;
    document.getElementById("loginBtn").addEventListener("click", () => {
      const ok = document.getElementById("pass").value === "Skrypka";
      document.getElementById("msg").textContent = ok ? "OK: –í–∏ —É–≤—ñ–π—à–ª–∏ (–¥–µ–º–æ)." : "–ü–æ–º–∏–ª–∫–∞: –ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å.";
    });
  }

  // ---------- Triangles (parallax only) ---------
  function buildTriangles(){
    const layer = document.getElementById("triLayer");
    const N = 18;
    for(let i=0;i<N;i++){
      const t = document.createElement("div");
      t.className = "tri";
      t.style.left = Math.random()*100 + "vw";
      t.style.top  = Math.random()*100 + "vh";
      t.style.transform = `rotate(${Math.random()*360}deg) scale(${0.6+Math.random()*1.4})`;
      t.style.opacity = 0.15 + Math.random()*0.35;
      layer.appendChild(t);
    }
    window.addEventListener("mousemove", (e)=>{
      const cx = window.innerWidth/2, cy = window.innerHeight/2;
      const dx = (e.clientX - cx) / cx;
      const dy = (e.clientY - cy) / cy;
      document.querySelectorAll(".tri").forEach((el, i)=>{
        const strength = 8 + (i%5)*3;
        el.style.translate = `${dx*strength}px ${dy*strength}px`;
      });
    });
  }
  </script>
</body>
</html>
