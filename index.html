<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Softis — YouTube Assistant (SPA)</title>
<link rel="icon" href="logo_32.png">
<meta name="description" content="Softis: озвучка, генерація зображень, субтитри. Red–Dark стиль із неоновими трикутниками.">
<style>
:root{--bg:#0a0a10;--surface:#101017;--card:#12121b;--txt:#e7e8ee;--muted:#c6c7d2;--red:#ef4444;--border:#232332;--white:#fff}
body[data-theme="LIGHT"]{--bg:#f6f7fb;--surface:#fff;--card:#fff;--txt:#14151c;--muted:#3c3f4a;--red:#ef4444;--border:#e6e8f0;--white:#111}
html,body{height:100%;margin:0;background:radial-gradient(1200px 800px at 70% -10%, rgba(239,68,68,.08),transparent 60%),var(--bg);color:var(--txt);font-family:Inter,system-ui,Arial,sans-serif;line-height:1.55}
.container{width:min(1140px,100% - 32px);margin:0 auto}
.topbar{position:sticky;top:0;z-index:50;backdrop-filter:blur(8px);background:color-mix(in srgb,var(--bg) 70%, black 30% / .7);border-bottom:1px solid var(--border)}
.topbar-inner{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:10px;padding:10px 0}
.brand{display:flex;gap:10px;align-items:center;font-weight:800}
.brand-icon{width:32px;height:32px;display:grid;place-items:center;background:#0b0d14;border:1px solid color-mix(in srgb,var(--red) 40%, var(--border));border-radius:10px;box-shadow:none}
.brand-icon img{width:22px;height:22px;display:block;image-rendering:crisp-edges}
.mainnav{display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
.nav-pill,.pill{background:#14141c;color:#fff;border-radius:999px;border:1px solid color-mix(in srgb,var(--red) 40%, var(--border));padding:7px 14px;box-shadow:0 0 18px color-mix(in srgb,var(--red) 28%, transparent)}
.nav-pill[aria-current="page"]{box-shadow:0 0 26px color-mix(in srgb,var(--red) 40%, transparent)}
.switcher{display:flex;justify-content:flex-end;gap:8px;align-items:center}
.hero{position:relative;overflow:clip;min-height:74svh;display:grid;align-items:center;isolation:isolate}
.pad{background:linear-gradient(180deg,rgba(0,0,0,.58),rgba(0,0,0,.46));border:1px solid color-mix(in srgb,var(--red) 22%, var(--border));border-radius:20px;padding:20px 22px;box-shadow:0 18px 48px rgba(0,0,0,.55),0 0 28px color-mix(in srgb,var(--red) 14%, transparent)}
body[data-theme="LIGHT"] .pad{background:linear-gradient(180deg,rgba(255,255,255,.96),rgba(255,255,255,.92));border:1px solid color-mix(in srgb,var(--red) 12%, var(--border));box-shadow:0 18px 42px rgba(0,0,0,.08)}
h1{font-size:clamp(30px,5vw,52px);line-height:1.15;margin:12px 0}
.lead{color:var(--muted)}
.actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:18px}
.btn{background:#1b1c23;color:#fff;border:1px solid color-mix(in srgb,var(--red) 58%, var(--border));padding:12px 18px;border-radius:12px;font-weight:800;box-shadow:0 0 36px color-mix(in srgb,var(--red) 52%, transparent)}
/* Triangles */
.abs-scene{position:absolute;inset:-6% -6% -10% -6%;z-index:-1;perspective:1200px}
.abs{position:absolute;width:150px;height:120px;transform-style:preserve-3d;will-change:transform}
.tri{fill:color-mix(in srgb,var(--red) 14%, transparent);stroke:var(--white);stroke-width:2;stroke-linejoin:round}
.glow{opacity:.55;filter:url(#glow)}
.abs.pulse .tri{fill:color-mix(in srgb,var(--red) 20%, transparent)}
.abs.pulse .glow{opacity:.98;animation:glowPulse 1.25s ease-in-out infinite}
@keyframes glowPulse{0%{filter:drop-shadow(0 0 10px color-mix(in srgb,var(--red) 45%, transparent));opacity:.65}50%{filter:drop-shadow(0 0 18px color-mix(in srgb,var(--red) 70%, transparent));opacity:1}100%{filter:drop-shadow(0 0 10px color-mix(in srgb,var(--red) 45%, transparent));opacity:.65}}
.abs.t1{left:6%;top:12%}.abs.t2{left:24%;top:26%;width:130px;height:104px}.abs.t3{left:48%;top:14%;width:120px;height:96px}.abs.t4{left:70%;top:18%;width:140px;height:110px}.abs.t5{left:12%;top:60%;width:170px;height:130px}.abs.t6{left:44%;top:64%;width:150px;height:116px}.abs.t7{left:75%;top:58%;width:160px;height:124px}
/* Sections */
main [data-view]{display:none;padding:28px 0}
body[data-view="home"] [data-view="home"],body[data-view="pricing"] [data-view="pricing"],body[data-view="voice"] [data-view="voice"],body[data-view="images"] [data-view="images"],body[data-view="articles"] [data-view="articles"],body[data-view="subs"] [data-view="subs"],body[data-view="contact"] [data-view="contact"],body[data-view="admin"] [data-view="admin"]{display:block}
.grid3{display:grid;gap:12px;grid-template-columns:repeat(12,1fr)}
.cell{grid-column:span 4;background:color-mix(in srgb,var(--card) 92%, transparent);border:1px solid var(--border);border-radius:14px;overflow:hidden}
.cell img{display:block;width:100%;height:auto}
@media(max-width:960px){.cell{grid-column:span 6}}@media(max-width:640px){.cell{grid-column:span 12}}
footer{margin-top:48px;padding:24px 0 40px;border-top:1px solid var(--border);color:var(--muted)}
</style>
</head>
<body data-theme="RD" data-view="home">
<header class="topbar">
  <div class="container topbar-inner">
    <div class="brand"><span class="brand-icon"><img src="logo_32.png" alt=""></span><span>Softis</span></div>
    <nav class="mainnav" aria-label="Навігація">
      <a class="nav-pill" href="#/" data-route="home">Головна</a>
      <a class="nav-pill" href="#/pricing" data-route="pricing">Ціни</a>
      <a class="nav-pill" href="#/voice" data-route="voice">Озвучка</a>
      <a class="nav-pill" href="#/images" data-route="images">Генерація зображень</a>
      <a class="nav-pill" href="#/articles" data-route="articles">Оновлення</a>
      <a class="nav-pill" href="#/subs" data-route="subs">Субтитри</a>
      <a class="nav-pill" href="#/contact" data-route="contact">Контакти</a>
    </nav>
    <div class="switcher"><span>Тема:</span><button class="pill theme-toggle" type="button">☀️</button></div>
  </div>
</header>

<main>
  <section class="hero" data-view="home">
    <svg width="0" height="0" style="position:absolute;pointer-events:none;opacity:0">
      <defs><filter id="glow" x="-50%" y="-50%" width="200%" height="200%"><feGaussianBlur in="SourceGraphic" stdDeviation="3"/></filter></defs>
    </svg>
    <div class="abs-scene" aria-hidden="true">
      <div class="abs t1" data-depth="0.6"><svg viewBox="0 0 100 80"><polygon class="tri" points="12,10 92,40 12,70"/><polygon class="glow" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
      <div class="abs t2" data-depth="1.0"><svg viewBox="0 0 100 80"><polygon class="tri" points="12,10 92,40 12,70"/><polygon class="glow" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
      <div class="abs t3" data-depth="1.6"><svg viewBox="0 0 100 80"><polygon class="tri" points="12,10 92,40 12,70"/><polygon class="glow" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
      <div class="abs t4" data-depth="0.9"><svg viewBox="0 0 100 80"><polygon class="tri" points="12,10 92,40 12,70"/><polygon class="glow" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
      <div class="abs t5" data-depth="1.4"><svg viewBox="0 0 100 80"><polygon class="tri" points="12,10 92,40 12,70"/><polygon class="glow" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
      <div class="abs t6" data-depth="1.8"><svg viewBox="0 0 100 80"><polygon class="tri" points="12,10 92,40 12,70"/><polygon class="glow" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
      <div class="abs t7" data-depth="2.1"><svg viewBox="0 0 100 80"><polygon class="tri" points="12,10 92,40 12,70"/><polygon class="glow" points="12,10 92,40 12,70" fill="none" stroke="rgba(239,68,68,.55)" stroke-width="3"/></svg></div>
    </div>
    <div class="container">
      <div class="pad">
        <h1>Ми ваш помічник в створенні контенту для YouTube.</h1>
        <p class="lead">Це софт, який допомагає вам створювати озвучку, генерувати зображення та створювати субтитри. Рухайте мишкою — трикутники реагують. Наведіть на кнопки — фігури зближуються, пульсують і світяться.</p>
        <div class="actions">
          <a class="btn" href="#/pricing">Спробувати безкоштовно</a>
          <a class="btn" href="#/images">Дивитися приклади</a>
        </div>
      </div>
    </div>
  </section>

  <section data-view="pricing" class="container"><h2>Ціни</h2>
  <div class="grid3">
    <article class="cell" style="padding:16px"><h3>Starter</h3><p class="lead">$0/міс</p><ul><li>5 хв озвучки</li><li>3 зображення</li><li>1 відео субтитрів</li></ul></article>
    <article class="cell" style="padding:16px"><h3>Creator</h3><p class="lead">$19/міс</p><ul><li>60 хв озвучки</li><li>50 зображень</li><li>10 відео субтитрів</li></ul></article>
    <article class="cell" style="padding:16px"><h3>Studio</h3><p class="lead">$49/міс</p><ul><li>200 хв озвучки</li><li>200 зображень</li><li>40 відео субтитрів</li></ul></article>
  </div></section>

  <section data-view="voice" class="container"><h2>Озвучка</h2><p class="lead">Демо з'явиться пізніше.</p></section>

  <section data-view="images" class="container"><h2>Генерація зображень</h2><div class="grid3">
    <figure class="cell"><img loading="lazy" src="https://picsum.photos/seed/yt1/600/380" alt=""></figure>
    <figure class="cell"><img loading="lazy" src="https://picsum.photos/seed/yt2/600/380" alt=""></figure>
    <figure class="cell"><img loading="lazy" src="https://picsum.photos/seed/yt3/600/380" alt=""></figure>
  </div></section>

  <section data-view="articles" class="container"><h2>Оновлення</h2><p class="lead">Дані завантажуються з Supabase.</p><div id="articlesGrid" class="grid3"></div></section>

  <section data-view="subs" class="container"><h2>Субтитри</h2></section>

  <section data-view="contact" class="container"><h2>Контакти</h2>
    <form id="contactForm"><label>Імʼя<input required placeholder="Ваше імʼя"></label>
      <label>Email<input type="email" required placeholder="name@example.com"></label>
      <label>Повідомлення<textarea rows="4" required></textarea></label>
      <button class="btn" type="submit">Надіслати</button>
      <p id="formStatus" class="lead"></p></form>
  </section>

  <section data-view="admin" class="container">
    <h2>Адмін-панель</h2>
    <div id="adminGate">
      <label for="adminPass">Пароль:</label>
      <input id="adminPass" type="password" placeholder="Пароль">
      <button id="adminLogin" class="pill" type="button">Увійти</button>
    </div>
    <form id="adminForm" style="display:none;max-width:820px;margin-top:12px">
      <div><label>Заголовок<input id="aTitle" required></label></div>
      <div><label>Короткий опис<input id="aExcerpt" required></label></div>
      <div><label>Основний текст<textarea id="aContent" rows="8" required></textarea></label></div>
      <div><label>Картинка<input id="aImage" type="file" accept="image/*"></label></div>
      <button class="btn" type="submit">Опублікувати</button>
      <p id="adminStatus" class="lead"></p>
    </form>

    <details style="margin-top:12px"><summary>SQL для створення таблиць в Supabase</summary>
<pre style="white-space:pre-wrap">
create table if not exists public.articles (
  id uuid primary key default gen_random_uuid(),
  title text not null,
  content text not null,
  excerpt text,
  image text,
  created_at timestamptz default now()
);
alter table public.articles enable row level security;
create policy "Public read" on public.articles for select using (true);
create policy "Anon insert" on public.articles for insert with check (true);
</pre>
    </details>
  </section>
</main>

<footer><div class="container" style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap"><span>© 2025 Softis</span><a class="pill" href="#/admin">Admin</a></div></footer>

<script>
// triangles parallax + hover pull + flip
(function(){
  const tris=Array.from(document.querySelectorAll('.abs'));
  const btns=Array.from(document.querySelectorAll('.btn, .nav-pill'));
  if(!tris.length) return;
  addEventListener('mousemove',(e)=>{
    const w=innerWidth,h=innerHeight,cx=(e.clientX-w/2)/(w/2),cy=(e.clientY-h/2)/(h/2);
    tris.forEach(t=>{ const d=parseFloat(t.dataset.depth||1); const tx=cx*30*d,ty=cy*20*d;
      t.style.transform=`translate3d(${tx}px,${ty}px,0) rotateY(${cx*8}deg) rotateX(${-cy*8}deg)`; });
  },{passive:true});
  btns.forEach(b=>{ b.addEventListener('mouseenter',()=>{
    const r=b.getBoundingClientRect(),cx=r.left+r.width/2,cy=r.top+r.height/2;
    tris.forEach((t,i)=>{ const d=parseFloat(t.dataset.depth||1); const k=0.08*d*(1+(i%3)*0.12);
      const tx=(cx-innerWidth/2)*k,ty=(cy-innerHeight/2)*k; t.classList.add('pulse'); t.style.transition='transform .35s cubic-bezier(.2,.6,.2,1)'; t.style.transform=`translate3d(${tx}px,${ty}px,0)`; });
  }); b.addEventListener('mouseleave',()=>{ tris.forEach(t=>{ t.classList.remove('pulse'); t.style.transition='transform .6s cubic-bezier(.2,.6,.2,1)'; t.style.transform=''; }); }); });
  const io=new IntersectionObserver((es)=>{ es.forEach(e=>{ if(e.isIntersecting && !e.target.__flipped){ e.target.__flipped=true; const base=e.target.style.transform||''; e.target.style.transform=base+' rotateY(180deg)'; setTimeout(()=>{ e.target.style.transform=base; },600); } }); },{threshold:0.2});
  tris.forEach(t=>io.observe(t));
})();

// simple SPA router + theme
const routes=["home","pricing","voice","images","articles","subs","contact","admin"];
const setView=(v)=>{ document.body.dataset.view=v; document.querySelectorAll('.mainnav .nav-pill').forEach(a=>a.setAttribute('aria-current',a.dataset.route===v?'page':'false')); if(v==='articles') loadArticles(); };
addEventListener('hashchange',()=>{ const r=(location.hash.replace('#/','')||'').trim()||'home'; setView(routes.includes(r)?r:'home'); });
setView((location.hash.replace('#/','')||'').trim()||'home');
document.querySelector('.theme-toggle')?.addEventListener('click',()=>{ const t=document.body.getAttribute('data-theme'); document.body.setAttribute('data-theme', t==='LIGHT'?'RD':'LIGHT'); });
</script>

<script type="module">
import {{ createClient }} from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4/+esm";
const sb = createClient("https://zobpfysopstuvvpdtgob.supabase.co", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpvYnBmeXNvcHN0dXZ2cGR0Z29iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3MjM2MjIsImV4cCI6MjA3NDI5OTYyMn0._0G1I3VtwSVoDT93mPsAiRI4Yf66zFppaCqhhGQgSbw");

async function loadArticles(){
  const grid=document.getElementById('articlesGrid'); if(!grid) return;
  const {{data,error}}=await sb.from('articles').select('*').order('created_at',{{ascending:false}}).limit(12);
  if(error){ grid.innerHTML=`<p class='lead'>Помилка: ${{error.message}}<br>Переконайтесь, що створена таблиця <code>public.articles</code>.</p>`; return; }
  if(!data?.length){ grid.innerHTML=`<p class='lead'>Поки немає записів.</p>`; return; }
  grid.innerHTML=data.map(a=>`<article class="cell" style="padding:12px">${{a.image?`<img src="${{a.image}}" alt="${{a.title}}" style="border-bottom:1px solid var(--border)">`:''}}<div style="padding:10px 12px"><h3 style="margin:6px 0 8px;font-size:18px">${{a.title}}</h3><p class="lead" style="margin:0 0 10px">${{a.excerpt||''}}</p><details><summary>Читати</summary><div style="white-space:pre-wrap">${{a.content||''}}</div></details></div></article>`).join('');
}
window.loadArticles = loadArticles;

// Admin auth
const gate=document.getElementById('adminGate'), form=document.getElementById('adminForm');
document.getElementById('adminLogin')?.addEventListener('click',()=>{ const ok=(document.getElementById('adminPass').value==='Skrypka'); gate.style.display=ok?'none':'block'; form.style.display=ok?'block':'none'; if(!ok) alert('Невірний пароль'); });
async function uploadImage(file){
  if(!file) return null; const ext=file.name.split('.').pop(); const path=`art-${{Date.now()}}-${{Math.random().toString(36).slice(2)}}.${{ext}}`; const bucket='images';
  const {{error}}=await sb.storage.from(bucket).upload(path,file); if(error) throw error;
  const {{data}}=sb.storage.from(bucket).getPublicUrl(path); return data.publicUrl;
}
form?.addEventListener('submit', async (e)=>{
  e.preventDefault(); const status=document.getElementById('adminStatus'); const title=document.getElementById('aTitle').value.trim(); const excerpt=document.getElementById('aExcerpt').value.trim(); const content=document.getElementById('aContent').value.trim(); const file=document.getElementById('aImage').files[0];
  if(!title||!content){ status.textContent='Заповніть Заголовок і Контент'; return; }
  try{ let imageUrl=null; if(file) imageUrl=await uploadImage(file); const {{error}}=await sb.from('articles').insert({{title,excerpt,content,image:imageUrl}}); if(error) throw error; status.textContent='Опубліковано!'; e.target.reset(); }
  catch(err){ status.textContent='Помилка: '+err.message; }
});
</script>
</body>
</html>
